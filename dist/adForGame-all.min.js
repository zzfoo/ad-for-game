!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EventEmitter3=e()}}(function(){return function o(a,s,d){function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[t]={exports:{}};a[t][0].call(r.exports,function(e){return l(a[t][1][e]||e)},r,r.exports,o,a,s,d)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<d.length;e++)l(d[e]);return l}({1:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,f="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new s(n,i||e,r),a=f?f+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],o]:e._events[a].push(o):(e._events[a]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(f=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(f?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=f?f+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=f?f+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,r,o){var a=f?f+e:e;if(!this._events[a])return!1;var s,d,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,r),!0;case 6:return l.fn.call(l.context,t,n,i,r,o),!0}for(d=1,s=new Array(u-1);d<u;d++)s[d-1]=arguments[d];l.fn.apply(l.context,s)}else{var c,h=l.length;for(d=0;d<h;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),u){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,t);break;case 3:l[d].fn.call(l[d].context,t,n);break;case 4:l[d].fn.call(l[d].context,t,n,i);break;default:if(!s)for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];l[d].fn.apply(l[d].context,s)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,i){var r=f?f+e:e;if(!this._events[r])return this;if(!t)return l(this,r),this;var o=this._events[r];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||l(this,r);else{for(var a=0,s=[],d=o.length;a<d;a++)(o[a].fn!==t||i&&!o[a].once||n&&o[a].context!==n)&&s.push(o[a]);s.length?this._events[r]=1===s.length?s[0]:s:l(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=f?f+e:e,this._events[t]&&l(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=f,a.EventEmitter=a,void 0!==t&&(t.exports=a)},{}]},{},[1])(1)});var AFG={};!function(){var h,e=window.EventEmitter3,i=AFG.EVENTS={LOADED:"loaded",LOAD_ERROR:"load_error",AD_START:"ad_start",AD_SKIPPED:"ad_skipped",AD_END:"ad_end",AD_CLICKED:"ad_clicked"},t=AFG.AdSenseManager=function(){},n={_adIndex:null,_adsLoader:null,_adCache:null,_containerElement:null,disabled:!1,init:function(e,t){if(this.disabled)return!1;var n=this;this._includeJS("//imasdk.googleapis.com/js/sdkloader/ima3.js",function(){h=window.google,n._initAdLoader(e),t&&t()}),window.adsbygoogle=window.adsbygoogle||[],this._adCache={},this._adIndex=0},_initAdLoader:function(e){var t=this._createAdDisplayContainer(e),n=this._adsLoader=new h.ima.AdsLoader(t);n.addEventListener(h.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded.bind(this),!1),n.addEventListener(h.ima.AdErrorEvent.Type.AD_ERROR,this._onAdsManagerLoadError.bind(this),!1)},_createAdDisplayContainer:function(e){var t=e.containerElement,n=e.containerStyle;for(var i in t?"string"==typeof t&&(t=document.getElementById(t)):t=this._createContainerElement(),n)t.style[i]=n[i];this._containerElement=t,this._displayContainerElement(!1);var r=new h.ima.AdDisplayContainer(t);return r.initialize(),r},_createContainerElement:function(){var e=document.createElement("div"),t=window.innerWidth,n=window.innerHeight,i=e.style,r={position:"absolute",top:"0px",left:"0px",backgroundColor:"black",width:t+"px",height:n+"px"};for(var o in r)i[o]=r[o];return document.body.appendChild(e),e},_displayContainerElement:function(e){this._containerElement.style.display=e?"block":"none"},createAd:function(e){if(this.disabled||!h)return!1;var t=e.name||this._generateName(),n=e.descriptionPage||window.location.href,i={ad_type:e.adType,client:e.id||this.id,description_url:n,videoad_start_delay:e.delay||0,hl:e.language||"en"};e.channel&&(i.channel=e.channel),e.adDuration&&(i.max_ad_duration=e.adDuration),e.skippableAdDuration&&(i.sdmax=e.skippableAdDuration);var r=[];for(var o in i)r.push(o+"="+encodeURIComponent(i[o]));var a="https://googleads.g.doubleclick.net/pagead/ads?"+r.join("&"),s=e.width||this.screenWidth||window.innerWidth,d=e.height||this.screenHeight||window.innerHeight;e.width=s,e.height=d;var l=new h.ima.AdsRequest;l.adTagUrl=a,l.forceNonLinearFullSlot=!0,l.linearAdSlotWidth=s,l.linearAdSlotHeight=d,l.nonLinearAdSlotWidth=s,l.nonLinearAdSlotHeight=d,(e.vastLoadTimeout||0===e.vastLoadTimeout)&&(l.vastLoadTimeout=e.vastLoadTimeout);var u=new h.ima.AdsRenderingSettings;u.restoreCustomPlaybackStateOnAdBreakComplete=!0,u.useStyledNonLinearAds=!1,u.useStyledLinearAds=!1,this._adsLoader.requestAds(l,{name:t});var c=new f;return c._init({manager:this,name:t,adOptions:e,adsRenderingSettings:u}),this._adCache[t]=c},getAd:function(e){return this._adCache[e]},showAd:function(e){var t=this.getAd(e);return!(this.disabled||!t)&&t.show()},hideAd:function(e){var t=this.getAd(e);return!(this.disabled||!t)&&(this._displayContainerElement(!1),!0)},removeAd:function(e){var t=this.getAd(e);return!!t&&(this._displayContainerElement(!1),t.destroy(),t)},_generateName:function(){return"googleAdForGame_"+ ++this._adIndex},_onAdsManagerLoaded:function(e){var t=e.getUserRequestContext().name,n=this.getAd(t);if(n){var i=e.getAdsManager({currentTime:0,duration:1},n.adsRenderingSettings),r=this;i.addEventListener(h.ima.AdEvent.Type.USER_CLOSE,function(e){r._onAdClosed(t)}),n._onAdsManagerLoaded(i)}},_onAdsManagerLoadError:function(e){var t=e.getUserRequestContext().name,n=this.getAd(t);if(n){var i=e.getError();n._onAdsManagerLoadError(i)}},_onAdClosed:function(e){this._displayContainerElement(!1)},_displayAd:function(e){this._displayContainerElement(!0)},_destroyAd:function(e){delete this._adCache[e.name]},_includeJS:function(e,t,n){var i=document.createElement("script"),r=!(i.async=!0);i.onload=function(e){r||(r=!0,t&&t(e))},i.onerror=function(e){n&&n(e)};var o=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return o.insertBefore(i,o.firstChild),i.src=e,i}};for(var r in n)t.prototype[r]=n[r];var f=AFG.AdSense=function(){e.call(this)},o={name:null,disabled:!1,_manager:null,_adsManager:null,_adOptions:null,_adsRenderingSettings:null,destroyed:null,_timeoutId:null,_init:function(e){this.destroyed=!1,this.loaded=!1,this._adsManager=null,this._manager=e.manager,this.name=e.name,this._adsRenderingSettings=e.adsRenderingSettings,this._adOptions=e.adOptions;var t=e.adOptions.timeout;t&&(this._timeoutId=setTimeout(function(){this._timeoutId=null,this._onLoadTimeout()}.bind(this),t))},show:function(){if(this.disabled||this.destroyed)return!1;var e=this._adsManager;if(!e)return!1;this._manager._displayAd(this);var t=this._adOptions;return e.init(t.width,t.height,h.ima.ViewMode.NORMAL),e.start(),!0},isLoaded:function(){return!!this._adsManager},_onLoadTimeout:function(){this.emit(i.LOAD_ERROR,"load timeout!"),this.destroy()},_onAdsManagerLoaded:function(e){if(!this.destroyed){this._adsManager=e;var t=this,n=h.ima.AdEvent.Type;e.addEventListener(n.STARTED,function(){t.emit(i.AD_START)}),e.addEventListener(n.SKIPPED,function(){t.emit(i.AD_SKIPPED)}),e.addEventListener(n.USER_CLOSE,function(){t.emit(i.AD_END)}),e.addEventListener(n.CLICK,function(){t.emit(i.AD_CLICKED)}),this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this.emit(i.LOADED)}},_onAdsManagerLoadError:function(e){this.destroyed||(this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null),this.emit(i.LOAD_ERROR,e),this.destroy())},destroy:function(){this._manager._destroyAd(this),this._manager=null,this.destroyed=!0,this._adsManager&&this._adsManager.destroy(),this._adsManager=null,this._adOptions=null,this._adsRenderingSettings=null,this.name=null,this.removeAllListeners()}};for(var r in e.prototype)f.prototype[r]=e.prototype[r];for(var r in o)f.prototype[r]=o[r];t._reserved=["google","ima","adsbygoogle","AdsLoader","AdDisplayContainer","AdsRenderingSettings","AdsRequest","initialize","requestAds","getUserRequestContext","getAdsManager","getError","EventEmitter3","addEventListener","on","name","bind","emit","destroy","ViewMode","AdErrorEvent","AdEvent","AdEventType","AdsManagerLoadedEvent","Type","AD_ERROR","USER_CLOSE","CLICK","SKIPPED","STARTED","USER_CLOSE","ADS_MANAGER_LOADED","NORMAL"]}();